<!DOCTYPE html>
<html>
<head>

<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0">

<style>

#canvas {
	margin: 0 -1em;
  height: calc(100vw*3/4);
  background-color: #ccc;
  overflow: hidden;
  position: relative;
  background-size: auto 300%;
  background-position: 50% 50%;
  transition: background-position .1s;
}

</style>

</head>
<body>

<canvas id="canvas"></canvas>
<p>1</p>
<p>Alpha value: <span id="x"></span><br>Alpha data recorded: <span id="mA"></span></p>
<p>What does i equal? <span id="itho"></span></p>
<p>Direction? <span id="direction"></span></p>
<p>Normalized value: <span id="ma"></span></p>
<p>Background position: <span id="bg"></span></p>
<script>

	var canvas = document.getElementById("canvas");
  var ctx = canvas.getContext("2d");

  var img = new Image();
  img.src = 'images/mountain.jpg';
  img.onload = function() {
    var pattern = ctx.createPattern(img, 'repeat-x');
    ctx.fillStyle = pattern;
    ctx.fillRect(0,0,400,400);
  };





  // rotation
/*
  var alphaValues = new Array();
  var i = 0;

  var pano = document.getElementById('pano');
  function handleOrientation(event) {
    // collect device orientation values
    var mA        = Math.round(event.alpha);
    var mB        = event.beta / 3.60;
    var mG        = event.gamma / 3.60;


    // record old alpha values
    alphaValues.push(mA)
    // call the last alpha value recorded
    var maOld = alphaValues.slice(-2)[0]

    // test stuff
    var bg = pano.style.backgroundPosition;
    var mfix      = event.alpha;
    document.getElementById('x').innerHTML = mfix;
    document.getElementById('ma').innerHTML = mA;
    document.getElementById('bg').innerHTML = bg;

    // attempt to change i values for background

    if (mA > maOld) {
      document.getElementById('direction').innerHTML = "Right";
    }
    else if (mA < maOld) {
      document.getElementById('direction').innerHTML = "Left";
    }
    else {
      document.getElementById('direction').innerHTML = "Not moving";
    }


    // attempt to change i values for background

    if (mA > maOld) {
      i++;
    } else if (mA < maOld) {
      i--;
    } else {
      i;
    }

    document.getElementById('itho').innerHTML = i;

    var bgp = i ;

    // print direction
    pano.style.backgroundPosition =
    (bgp * -1) + '% ' + (mB * -1 + 50) + '%';

  }
  window.addEventListener('deviceorientation', handleOrientation);
*/


</script>

</body>
</html>