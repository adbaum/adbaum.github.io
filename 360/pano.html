<!DOCTYPE html>
<html>
<head>

<style>

.pano {
	margin: 0 -1em;
  height: calc(100vw*3/4);
  background-color: #ccc;
  overflow: hidden;
  position: relative;
  background-size: auto 300%;
  background-position: 50% 75%;
  transition: background-position .05s;
}

</style>

</head>
<body>

<div id="pano" class="pano" style="background-image: url('images/car.jpg');">
</div>
   <p><label for="aX">aX</label><span id="aX"></span></p>
    <p><label for="aY">aY</label><span id="aY"></span></p>
    <p><label for="aZ">aZ</label><span id="aZ"></span></p>
	
<script>
  /*var pano = document.getElementById('pano');
  function handleOrientation(event) {
    var mAbsolute = event.absolute;
    var mA        = event.alpha / 3.60;
    var mB        = event.beta / 3.60;
    var mG        = event.gamma / 3.60;
    pano.style.backgroundPosition =
    ((mG + 75) * -1) + '% ' + ((mB / -1.8) - 60) + '%';
  }
  window.addEventListener('deviceorientation', handleOrientation);*/


  var s$ = function(e) {return document.getElementById(e);};
  var pano = document.getElementById('pano');
  function handleOrientation(event) {
    var mAbsolute = event.absolute;
    var mA        = event.z;
    var mB        = event.y;
    var mG        = event.x;
    pano.style.backgroundPosition =
    ((mG + 75) * -1) + '% ' + ((mB / -1.8) - 60) + '%';
  }
  window.addEventListener('devicemotion', handleOrientation);
  function dmHdlr(mA, mB, mG) {
    var currDM = new Date().getTime();
    //if (currDM < lastDM + 1000) {return;}
    lastDM = currDM;
    
    s$('aX').innerHTML = mA ? aX.toFixed(3) : '?';
    s$('aY').innerHTML = mB ? aY.toFixed(3) : '?';
    s$('aZ').innerHTML = mG ? aZ.toFixed(3) : '?';
	}
</script>

</body>
</html>